angular.module("angular.custom.scrollbar",[]).provider("scrollbarConfig",function(){var e={backgroundColor:"rgba(255, 255, 255, 0)",borderRadius:10,boxShadow:"inset 0 0 3px #37474f",buttonBorderRadius:10,buttonColor:"#bd9a65",display:"none",offsetRight:12,rightOffset:2,topOffset:2,width:12},t=angular.extend({},e);this.$get=[function(){return{backgroundColor:t.backgroundColor,borderRadius:t.borderRadius,boxShadow:t.boxShadow,buttonBorderRadius:t.buttonBorderRadius,buttonColor:t.buttonColor,display:t.display,offsetRight:t.offsetRight,rightOffset:t.rightOffset,topOffset:t.topOffset,width:t.width}}]}).directive("customScrollbar",["$document","scrollbarConfig","$window",function(e,t,o){return{restrict:"A",link:function(n,s,i){var l,r,u,d,a,p,c,y,b=t.topOffset,f=function(){r=s[0].offsetHeight,u=s[0].getBoundingClientRect().top},h=function(){p=o.innerHeight-u-4*b,c=p*((o.innerHeight-u)/r),y=p-c},x=function(){a.style.height=p+"px",a.style.top=b+"px",d.style.height=c+"px";var e=parseInt(l.style.top.replace(/px/,"")),t=parseInt(d.style.top.replace(/px/,""));t+c>p&&(l.style.top=e+(t-y)+"px",d.style.top=y+"px")},g=function(){f(),h(),s[0].style.position="relative",s[0].style.overflowY="hidden",l=document.createElement("div"),l.className="scroll-container",l.style.position="absolute",l.style.top="0px",l.innerHTML=s[0].innerHTML,s[0].innerHTML=null,s[0].insertBefore(l,null),a=document.createElement("div"),a.className="custom-scrollbar",a.style.backgroundColor=t.backgroundColor,a.style.borderRadius=t.borderRadius+"px",a.style.boxShadow=t.boxShadow,a.style.cursor="default",a.style.display=t.display,a.style.height=p+"px",a.style.position="absolute",a.style.right=t.rightOffset+"px",a.style.top=b+"px",a.style.width=t.width+"px",s[0].appendChild(a),d=document.createElement("div"),d.style.borderRadius=t.buttonBorderRadius+"px",d.style.boxShadow=t.boxShadow,d.style.backgroundColor=t.buttonColor,d.style.cursor="default",d.style.height=c+"px",d.style.position="absolute",d.style.top="0px",d.style.width=t.width+"px",a.appendChild(d)};g();var m=!1,v=!1,w={},C=function(){v=!0,a.style.display="inline"},R=function(){v=!1,m||(a.style.display="none")},Y=function(e){var t=e.clientY-w.mouseY;w.mouseY=e.clientY;var o=parseInt(l.style.top.replace(/px/,""))-t,n=parseInt(d.style.top.replace(/px/,""))+t;return n<0&&(n=0,o=0),n>y&&(n=y,o=-y),d.style.top=n+"px",l.style.top=o+"px",!1},O=function(){m=!1,e.unbind("mousemove",Y),e.unbind("mouseup",O),v||(a.style.display="none")},S=function(t){return w.mouseY=t.clientY,m=!0,e.bind("mousemove",Y),e.bind("mouseup",O),!1},k=function(e){var t=parseInt(l.style.top.replace(/px/,""))-e.deltaY,o=parseInt(d.style.top.replace(/px/,""))+e.deltaY;o<0&&(o=0,t=0),o>y&&(o=y,t=-y),d.style.top=o+"px",l.style.top=t+"px"},H=function(e){e?(s.bind("mouseover",C),s.bind("mouseout",R),s.bind("wheel",k),d.addEventListener("mousedown",S)):(s.unbind("mouseover",C),s.unbind("mouseout",R),s.unbind("wheel",k),d.removeEventListener("mousedown",S))},B=function(){r+u>=o.innerHeight?(h(),x(),H(!0)):(H(!1),l.style.top="0px",a.style.display="none")};B(),angular.element(o).bind("resize",function(){B()})}}}]);